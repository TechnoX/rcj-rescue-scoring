//- -*- tab-width: 2 -*-
extends includes/layout

block vars
  - var ngAppDef = 'FieldAdmin'

append scripts
  script.
    var competitionId = "#{id}"
  script(src='/javascripts/field_admin.js')

block location
  a.breadcrumb-item(href='/home') Home
  a.breadcrumb-item(href='/admin') Admin
  a.breadcrumb-item(ng-href='/admin/{{competitionId}}') {{competition.name}}
  span.breadcrumb-item.active Fields

block content
  .row
    .col-md-1
    .col-md-10
      h1 {{competition.name}} - Fields
      table
        thead
          tr
            th Name
            th League
            th Action
        tbody
          tr
            td
              input(ng-model='fieldName')
            td
              select(ng-model='fieldLeague' ng-options='league for league in leagues')
            td
              button(ng-click='addField()') Add field



      br
      br
      table
        thead
          tr
            th Name
            th League
            th Operation
        tbody
          tr(ng-repeat='field in fields')
            td(ng-bind='field.name')
            td(ng-bind='field.league')
            td
              a(href="" ng-click='removeField(field)') Delete
