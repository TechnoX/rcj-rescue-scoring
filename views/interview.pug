//- -*- tab-width: 2 -*-
extends includes/layout

block vars
  - var ngAppDef = 'CompetitionTeams'

append scripts
  script.
    var competitionId = "#{id}"
    var league = "#{league}"
  script(src='/javascripts/interview.js')

block location
    a.breadcrumb-item(onclick="location.href='/home'") Home
    a.breadcrumb-item(ng-click='go("/home/"+ competitionId)') {{competition.name}}
    span.breadcrumb-item.active Interview


block content
  .row
    .col-md-1
    .col-md-10
      h1 {{competition.name}} - {{"common.interview" | translate}}
      button.btn.btn-secondary(ng-if="getParam('return')" style='margin:0 10px 10px 0;', type='button', ng-click="go(getParam('return'))")
        i.fa.fa-undo(aria-hidden='true') {{'common.back' | translate}}
      br
      table.custom(style="margin-bottom:50px;")
        thead
            tr
              th {{"common.team" | translate}}
              th {{"common.league" | translate}}
              th {{"common.inspected" | translate}}
              th {{"common.interview" | translate}}
              th {{"common.operation" | translate}}
        tbody
            tr(ng-repeat='team in teams')
              td(ng-bind='team.name')
              td(ng-bind='team.league')
              //td(ng-click='inspected(team)')
              td
                i(class="fa fa-2x fa-check" aria-hidden="true" style="color:#2ecc71;" ng-if="team.inspected")
                i(class="fa fa-2x fa-times" aria-hidden="true" style="color:#e74c3c;" ng-if="!team.inspected")
              td
                i(class="fa fa-2x fa-check" aria-hidden="true" style="color:#2ecc71;" ng-if="team.interviewed")
                i(class="fa fa-2x fa-times" aria-hidden="true" style="color:#e74c3c;" ng-if="!team.interviewed")
              td
                button(ng-click="go('/interview/'+ competitionId +'/view/' + team._id)" class='btn btn-info' style="margin-right:5px;") {{'common.view' | translate}}
                if user
                    button(ng-click="go('/interview/'+ competitionId +'/do/' + team._id)" class='btn btn-dark' style="margin-right:5px;" ng-show="#{judge} >= 1") {{'common.interview' | translate}}
                    //button(ng-click="go('/interview/'+ competitionId +'/pub/' + team._id)" class='btn btn-warning' style="margin-right:5px;" ng-show="#{judge} == 2") {{'common.public' | translate}}